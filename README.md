# biglybt-ProtonVPNPort
BiglyBT plugin to automatically set the current open port of Proton VPN.

### The problem being solved

In P2P mode, the Proton VPN client opens a random port to permit external Torrent clients to establish an inbound connection to the local client.  BiglyBT needs to be configured to listen on that port to take advantage of this open port.  This requires opening the options settings and manually reconfiguring the port each time a new VPN session is started.  An automated process is desired to get the current port number from the Proton VPN client and configure it in BiglyBT.

### The solution

This plugin for BiglyBT (formerly Azureus, Vuze) reads the latest port number listed in the log files generated by Proton VPN and if necessary, reconfigues BiglyBT to use that port.  

This is a Windows-centric solution and it searches the standard install path of the Proton VPN client to locate the log file.  It is unlikely to work on another OS without further modification.

------------

### How to install 
(as a user - no code compilation required)

1. Download the latest `ProtonVPN_x.x.x.jar` release file from this github repositiory from the `Release` folder.
2. Select: **Tools -> Plugins -> Install from file**
3. Locate the .jar release file downloaded from this github repositiory and follow the wizard instructions.
4. Ensure plugin is enabled: **Tools -> Options -> Plugins -> ProtonVPNPort**
5. Make sure "Enable" is checked.
6. Adjust parameters as desired and press `Save` button.

------------

Developer notes:
This is an Eclipse Java project.  Prior art attempted to read the SQLite database of notifications generated by the Proton VPN client.  However, in testing it was found that the latest port data was stored in temporary database files whose data was not yet integrated into the main database file.  Thus there appeared to be no easy way to access the needed data.  No API appears to exist for the Proton VPN client.  Parsing the client's log file for the port number appeared to be one of the easiest ways to obtain the data.  And while brittle in the sense that a change of file path or formatting could potentially break the plugin, it would likely be trivial to fix.
